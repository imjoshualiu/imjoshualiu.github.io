<!DOCTYPE html>
<html>
<head>
    <link rel = "stylesheet" href = "payment.css">
    <link rel="apple-touch-startup-image" href="./launch.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name='viewport' content='viewport-fit=cover, width=device-width, initial-scale=1.0'>
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"> -->
</head>
<body onload="loadTransaction();" class="bg">
    <div>
        <img id = "picture" class = "pfp_position pfp_format center"/>
        <p id = "receiver" class = "name_position name_format center font-athletics">
          test
        </p>
        <p id = "desc" class = "comment_position comment_format center font-sf">
            "cash money"
        </p>
        <p id = "amt" class = "amount_position amount_format center font-athletics">
            - $10
        </p>
        <p class = "date_position date_format center font-sf-medium">
            <span id='date-time'></span>
        </p>
        <p id = "receiver_user" class = "paid_to_position paid_to_format center font-sf-medium">
            The Bruin Experiment
        </p>
    </div>
    
    
    <script>
        const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
        var dt = new Date();
        let month = months[dt.getMonth()];
        let date = dt.getDate();
        let year = dt.getFullYear();
        let hour = dt.getHours();
        let ampm = "";
        if (hour > 12){
            hour -= 12;
            ampm = "PM";
        }
        else{ ampm = "AM"; }
        let minutes = dt.getMinutes();
        if (minutes < 10) {minutes = "0" + minutes}
        let final_date = month + " " + date + ", " + year + ", " + hour + ":" + minutes + " " + ampm;
        document.getElementById('date-time').innerHTML=final_date;
    </script>

    <script>
        function loadTransaction() {
            const data = JSON.parse(window.sessionStorage.getItem("data"));
            console.log(data)
            if (data) {
                document.getElementById("picture").src = "./assets/" + data[0]["picture"] + ".jpg";
                document.getElementById("amt").innerHTML = "- $" + data[0]["amt"] ;
                document.getElementById("receiver").innerHTML = data[0]["receiver"];
                document.getElementById("desc").innerHTML = "\"" + data[0]["desc"] + "\"";
                document.getElementById("receiver_user").innerHTML = "@" + data[0]["receiver_user"];
                // profile.innerText = data[0]["profile"];
                // amt.innerText = "- $" + data[0]["amt"];
                // desc.innerText = "\"" + data[0]["desc"] + "\"";
                // date.innerText = convertDate(new Date());
                // paidTo.innerText = data[0]["username"];
                // console.log(data[0]["profile"]);
            }
            else {
                console.log("data not assigned yet");
            }
        }
    </script>
</body>
</html>